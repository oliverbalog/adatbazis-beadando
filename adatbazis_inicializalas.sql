--------------------------------------------------------
--  File created - vasĂˇrnap-mĂˇrcius-27-2022   
--------------------------------------------------------
--Az adatbázis működéséhez és a feladatok sikeres lefutásához szükséges beállítások elvégzése
--Ezt az sql fájl kell lefuttatni, mielőtt használni lehetne.


ALTER SESSION SET nls_date_format = 'YYYY.MM.DD';

--------------------------------------------------------
--  DDL for Table MEGALLO
--------------------------------------------------------

  CREATE TABLE "MEGALLO" 
   (	"ID" NUMBER(10,0) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY, 
	"TELEPULES_NEV" VARCHAR2(50 BYTE)
   );
--------------------------------------------------------
--  DDL for Table MENETREND
--------------------------------------------------------

  CREATE TABLE "MENETREND" 
   (	"ID" NUMBER(10,0) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY, 
	"UTVONAL_ID" NUMBER(10,0), 
	"VONAT_ID" NUMBER(10,0), 
	"INDULAS_IDEJE" TIMESTAMP (6), 
	"ERKEZES_IDEJE" TIMESTAMP (6)
   );
--------------------------------------------------------
--  DDL for Table UTVONAL
--------------------------------------------------------

  CREATE TABLE "UTVONAL" 
   (	"ID" NUMBER(10,0) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY, 
	"AR" NUMBER(20,0), 
	"NEV" VARCHAR2(50 BYTE), 
	"HOSSZ" NUMBER(20,0), 
	"VEGALLOMAS_ID" NUMBER(10,0), 
	"INDULAS_ID" NUMBER(10,0)
   );
--------------------------------------------------------
--  DDL for Table VONAT
--------------------------------------------------------

  CREATE TABLE "VONAT" 
   (	"ID" NUMBER(10,0) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY, 
	"NEV" VARCHAR2(50 BYTE)
   );

--------------------------------------------------------
--  Ref Constraints for Table MENETREND
--------------------------------------------------------

  ALTER TABLE "MENETREND" ADD CONSTRAINT "MENETREND_FK1" FOREIGN KEY ("VONAT_ID")
	  REFERENCES "VONAT" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "MENETREND" ADD CONSTRAINT "UTVONAL_ID_FK" FOREIGN KEY ("UTVONAL_ID")
	  REFERENCES "UTVONAL" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table UTVONAL
--------------------------------------------------------

  ALTER TABLE "UTVONAL" ADD CONSTRAINT "VEGALLOMAS_ID_FK" FOREIGN KEY ("VEGALLOMAS_ID")
	  REFERENCES "MEGALLO" ("ID") ENABLE;
  ALTER TABLE "UTVONAL" ADD CONSTRAINT "INDULAS_ID_FK" FOREIGN KEY ("INDULAS_ID")
	  REFERENCES "MEGALLO" ("ID") ENABLE;
--------------------------------------------------------
--  DML for VONAT
--------------------------------------------------------

INSERT INTO "VONAT" (ID, NEV) VALUES ('1', 'S60');
INSERT INTO "VONAT" (ID, NEV) VALUES ('2', 'Z80');
INSERT INTO "VONAT" (ID, NEV) VALUES ('3', 'T40');
INSERT INTO "VONAT" (ID, NEV) VALUES ('4', 'J50');
INSERT INTO "VONAT" (ID, NEV) VALUES ('5', 'A20');
INSERT INTO "VONAT" (ID, NEV) VALUES ('6', 'F90');
INSERT INTO "VONAT" (ID, NEV) VALUES ('7', 'E10');
INSERT INTO "VONAT" (ID, NEV) VALUES ('8', 'K30');
INSERT INTO "VONAT" (ID, NEV) VALUES ('9', 'Q5');
INSERT INTO "VONAT" (ID, NEV) VALUES ('10', 'W15');
INSERT INTO "VONAT" (ID, NEV) VALUES ('11', 'R25');
INSERT INTO "VONAT" (ID, NEV) VALUES ('12', 'Z35');
INSERT INTO "VONAT" (ID, NEV) VALUES ('13', 'U45');
INSERT INTO "VONAT" (ID, NEV) VALUES ('14', 'I55');
INSERT INTO "VONAT" (ID, NEV) VALUES ('15', 'O65');
INSERT INTO "VONAT" (ID, NEV) VALUES ('16', 'P75');
INSERT INTO "VONAT" (ID, NEV) VALUES ('17', 'A85');
INSERT INTO "VONAT" (ID, NEV) VALUES ('18', 'D95');
INSERT INTO "VONAT" (ID, NEV) VALUES ('19', 'A11');
INSERT INTO "VONAT" (ID, NEV) VALUES ('20', 'B22');
INSERT INTO "VONAT" (ID, NEV) VALUES ('21', 'C33');
INSERT INTO "VONAT" (ID, NEV) VALUES ('22', 'D44');
INSERT INTO "VONAT" (ID, NEV) VALUES ('23', 'E66');
INSERT INTO "VONAT" (ID, NEV) VALUES ('24', 'F77');
--------------------------------------------------------
--  DML for MEGALLO
--------------------------------------------------------

INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('1', 'Szolnok');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('2', 'Kecskemét');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('3', 'Tápiószele');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('4', 'Nagykáta');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('5', 'Cegléd');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('6', 'Budapest Keleti PU.');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('7', 'Budapest Nyugati PU.');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('8', 'Debrecen');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('9', 'Pécs');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('10', 'Miskolc');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('11', 'Jászalsószentgyörgy');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('12', 'Tápióbicske');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('13', 'Abádszalók');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('14', 'Gyál');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('15', 'Gyömrő‘');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('16', 'Gyula');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('17', 'Ócsa');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('18', 'Páty');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('19', 'Pilis');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('20', 'Röszke');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('21', 'Bábolna');
INSERT INTO "MEGALLO" (ID, TELEPULES_NEV) VALUES ('22', 'Bag');

--------------------------------------------------------
--  DML for UTVONAL
--------------------------------------------------------

INSERT INTO "UTVONAL" (ID, AR, NEV, HOSSZ, VEGALLOMAS_ID, INDULAS_ID) VALUES ('1', '1500', 'Szolnok - Budapesti Keleti PU.', '130', '6', '1');
INSERT INTO "UTVONAL" (ID, AR, NEV, HOSSZ, VEGALLOMAS_ID, INDULAS_ID) VALUES ('2', '3000', 'Budapest Keleti PU. - Kecskemét', '200', '2', '6');
INSERT INTO "UTVONAL" (ID, AR, NEV, HOSSZ, VEGALLOMAS_ID, INDULAS_ID) VALUES ('3', '4500', 'Budapest Nyugati PU. - Debrecen', '400', '8', '7');
INSERT INTO "UTVONAL" (ID, AR, NEV, HOSSZ, VEGALLOMAS_ID, INDULAS_ID) VALUES ('4', '5000', 'Miskolc - Budapest Nyugati PU.', '500', '7', '10');
INSERT INTO "UTVONAL" (ID, AR, NEV, HOSSZ, VEGALLOMAS_ID, INDULAS_ID) VALUES ('5', '2000', 'Jászalsószentgyörgy - Szolnok', '50', '1', '11');
INSERT INTO "UTVONAL" (ID, AR, NEV, HOSSZ, VEGALLOMAS_ID, INDULAS_ID) VALUES ('6', '1670', 'Nagykáta - Cegléd', '45', '5', '4');
INSERT INTO "UTVONAL" (ID, AR, NEV, HOSSZ, VEGALLOMAS_ID, INDULAS_ID) VALUES ('7', '4500', 'Budapest asd PU. - erq', '235', '8', '7');
INSERT INTO "UTVONAL" (ID, AR, NEV, HOSSZ, VEGALLOMAS_ID, INDULAS_ID) VALUES ('8', '8678', 'Budapest asd PU. - erq', '456', '8', '7');

--------------------------------------------------------
--  DML for MENETREND
--------------------------------------------------------

INSERT INTO "MENETREND" VALUES (1, 2,4,TO_TIMESTAMP('2022-01-02 06:14:00', 'YYYY-MM-DD HH24:MI:SS.FF'),TO_TIMESTAMP('2022-01-02 07:14:00', 'YYYY-MM-DD HH24:MI:SS.FF'));
INSERT INTO "MENETREND" VALUES (2, 3,6,TO_TIMESTAMP('2022-01-03 10:20:00', 'YYYY-MM-DD HH24:MI:SS.FF'),TO_TIMESTAMP('2022-01-02 13:40:00', 'YYYY-MM-DD HH24:MI:SS.FF'));
INSERT INTO "MENETREND" VALUES (3, 4,7,TO_TIMESTAMP('2022-01-04 18:05:00', 'YYYY-MM-DD HH24:MI:SS.FF'),TO_TIMESTAMP('2022-01-02 22:34:00', 'YYYY-MM-DD HH24:MI:SS.FF'));
INSERT INTO "MENETREND" VALUES (4, 6,8,TO_TIMESTAMP('2022-01-02 5:55:00', 'YYYY-MM-DD HH24:MI:SS.FF'),TO_TIMESTAMP('2022-01-02 6:40:00', 'YYYY-MM-DD HH24:MI:SS.FF'));
INSERT INTO "MENETREND" VALUES (5, 1,5,TO_TIMESTAMP('2022-01-02 12:00:00', 'YYYY-MM-DD HH24:MI:SS.FF'),TO_TIMESTAMP('2022-01-02 13:00:00', 'YYYY-MM-DD HH24:MI:SS.FF'));
INSERT INTO "MENETREND" VALUES (6, 5,3,TO_TIMESTAMP('2022-01-02 14:14:00', 'YYYY-MM-DD HH24:MI:SS.FF'),TO_TIMESTAMP('2022-01-02 14:44:00', 'YYYY-MM-DD HH24:MI:SS.FF'));
Insert into "MENETREND" values (7,2,5,to_timestamp('22-ÁPR.  -14 21.15.23,169000000','RR-MON-DD HH24.MI.SSXFF'),to_timestamp('22-ÁPR.  -28 21.15.28,211000000','RR-MON-DD HH24.MI.SSXFF'));
INSERT INTO "MENETREND" VALUES (8, 6,8,TO_TIMESTAMP('2022-01-02 5:55:00', 'YYYY-MM-DD HH24:MI:SS.FF'),TO_TIMESTAMP('2022-01-02 6:40:00', 'YYYY-MM-DD HH24:MI:SS.FF'));
